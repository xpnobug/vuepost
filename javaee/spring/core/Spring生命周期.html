<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Spring Bean ç”Ÿå‘½å‘¨æœŸ | VuePress</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Vue é©±åŠ¨çš„é™æ€ç½‘ç«™ç”Ÿæˆå™¨">
    
    <link rel="preload" href="/assets/css/0.styles.443403f7.css" as="style"><link rel="preload" href="/assets/js/app.56355bfb.js" as="script"><link rel="preload" href="/assets/js/2.63cce038.js" as="script"><link rel="preload" href="/assets/js/28.fb5b3d5b.js" as="script"><link rel="prefetch" href="/assets/js/10.62a25884.js"><link rel="prefetch" href="/assets/js/11.4b48bc9c.js"><link rel="prefetch" href="/assets/js/12.d698a43c.js"><link rel="prefetch" href="/assets/js/13.905b4861.js"><link rel="prefetch" href="/assets/js/14.b06c49c3.js"><link rel="prefetch" href="/assets/js/15.6e8c807a.js"><link rel="prefetch" href="/assets/js/16.8b770695.js"><link rel="prefetch" href="/assets/js/17.b3e4119e.js"><link rel="prefetch" href="/assets/js/18.483a87ac.js"><link rel="prefetch" href="/assets/js/19.778773e6.js"><link rel="prefetch" href="/assets/js/20.58402ec1.js"><link rel="prefetch" href="/assets/js/21.69066421.js"><link rel="prefetch" href="/assets/js/22.dac1ba48.js"><link rel="prefetch" href="/assets/js/23.50c92c21.js"><link rel="prefetch" href="/assets/js/24.c4dc0745.js"><link rel="prefetch" href="/assets/js/25.e86961e5.js"><link rel="prefetch" href="/assets/js/26.bd280195.js"><link rel="prefetch" href="/assets/js/27.56262183.js"><link rel="prefetch" href="/assets/js/29.f379e8c8.js"><link rel="prefetch" href="/assets/js/3.8e8c01b1.js"><link rel="prefetch" href="/assets/js/30.cfa001ae.js"><link rel="prefetch" href="/assets/js/31.fc18ee22.js"><link rel="prefetch" href="/assets/js/32.00203410.js"><link rel="prefetch" href="/assets/js/33.117d891a.js"><link rel="prefetch" href="/assets/js/34.b7eb3e68.js"><link rel="prefetch" href="/assets/js/35.098956ae.js"><link rel="prefetch" href="/assets/js/36.59766ecd.js"><link rel="prefetch" href="/assets/js/37.c6d06b51.js"><link rel="prefetch" href="/assets/js/38.ffed810c.js"><link rel="prefetch" href="/assets/js/39.d525e97a.js"><link rel="prefetch" href="/assets/js/4.b187b210.js"><link rel="prefetch" href="/assets/js/40.ab234edd.js"><link rel="prefetch" href="/assets/js/41.e403a86b.js"><link rel="prefetch" href="/assets/js/42.e8002610.js"><link rel="prefetch" href="/assets/js/43.eec996b6.js"><link rel="prefetch" href="/assets/js/44.9dc3ddc5.js"><link rel="prefetch" href="/assets/js/45.63222b69.js"><link rel="prefetch" href="/assets/js/46.b2c81b25.js"><link rel="prefetch" href="/assets/js/47.b6f968f6.js"><link rel="prefetch" href="/assets/js/48.4a9e3424.js"><link rel="prefetch" href="/assets/js/49.3c7454d6.js"><link rel="prefetch" href="/assets/js/5.40b352b5.js"><link rel="prefetch" href="/assets/js/50.c6ea4af1.js"><link rel="prefetch" href="/assets/js/51.b75f2ec5.js"><link rel="prefetch" href="/assets/js/52.8509d480.js"><link rel="prefetch" href="/assets/js/53.dd90542c.js"><link rel="prefetch" href="/assets/js/54.00d7504b.js"><link rel="prefetch" href="/assets/js/55.15b1b158.js"><link rel="prefetch" href="/assets/js/56.db38ed2c.js"><link rel="prefetch" href="/assets/js/57.54029035.js"><link rel="prefetch" href="/assets/js/58.a99d07eb.js"><link rel="prefetch" href="/assets/js/59.5c064ae8.js"><link rel="prefetch" href="/assets/js/6.b7fe8ec2.js"><link rel="prefetch" href="/assets/js/60.9ecddb2f.js"><link rel="prefetch" href="/assets/js/61.a51bc542.js"><link rel="prefetch" href="/assets/js/62.83a28390.js"><link rel="prefetch" href="/assets/js/63.b1c77d4b.js"><link rel="prefetch" href="/assets/js/64.abf3a0bb.js"><link rel="prefetch" href="/assets/js/65.1957b797.js"><link rel="prefetch" href="/assets/js/66.a8cbebad.js"><link rel="prefetch" href="/assets/js/67.835ccafe.js"><link rel="prefetch" href="/assets/js/68.dd1b6db1.js"><link rel="prefetch" href="/assets/js/69.c2cd2888.js"><link rel="prefetch" href="/assets/js/7.a32b0d6c.js"><link rel="prefetch" href="/assets/js/70.6a3ff21c.js"><link rel="prefetch" href="/assets/js/71.bf5f0f77.js"><link rel="prefetch" href="/assets/js/72.16c8952e.js"><link rel="prefetch" href="/assets/js/73.65f6c1da.js"><link rel="prefetch" href="/assets/js/8.791fb6ea.js"><link rel="prefetch" href="/assets/js/9.92a08781.js">
    <link rel="stylesheet" href="/assets/css/0.styles.443403f7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/Hfc.gif" alt="VuePress" class="logo"> <span class="site-name can-hide">VuePress</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/theme/" class="nav-link">
  ä¸»é¢˜
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaEE" class="dropdown-title"><span class="title">JavaEE</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaEE" class="mobile-dropdown-title"><span class="title">JavaEE</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/javaee/spring/core/" class="nav-link router-link-active">
  Spring
</a></li><li class="dropdown-subitem"><a href="/javaee/framework/mybatis/" class="nav-link">
  Mybatis
</a></li><li class="dropdown-subitem"><a href="/javaee/springboot/" class="nav-link">
  Spring Boot
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ–‡æ¡£" class="dropdown-title"><span class="title">æ–‡æ¡£</span> <span class="arrow down"></span></button> <button type="button" aria-label="æ–‡æ¡£" class="mobile-dropdown-title"><span class="title">æ–‡æ¡£</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          æ•™ç¨‹
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/views/guide/introduction.html" class="nav-link">
  vue3
</a></li><li class="dropdown-subitem"><a href="/github/git/Git.html" class="nav-link">
  Gitæ“ä½œå‘½ä»¤è¡¨
</a></li><li class="dropdown-subitem"><a href="/echarts/e/01.html" class="nav-link">
  Apache ECharts
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…¶å®ƒ" class="dropdown-title"><span class="title">å…¶å®ƒ</span> <span class="arrow down"></span></button> <button type="button" aria-label="å…¶å®ƒ" class="mobile-dropdown-title"><span class="title">å…¶å®ƒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          ProjectsğŸˆ
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/other/project.html" class="nav-link">
  My Project
</a></li></ul></li><li class="dropdown-item"><h4>
          Common sitesğŸˆ
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://docs.oracle.com/javase/8/docs/api/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java SE API Documentation
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.programcreek.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Program Creek
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://spring.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://stackoverflow.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Stackoverflow
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://leetcode-cn.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  LeetCode
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cn.vuejs.org/v2/guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue.js
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.bootcdn.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  BootCDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.linuxcool.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Linuxå‘½ä»¤å¤§å…¨
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.tiobe.com/tiobe-index/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ç¼–ç¨‹è¯­è¨€æ’è¡Œæ¦œ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><a href="/timeLine/" class="nav-link">
  æ—¶é—´çº¿
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/theme/" class="nav-link">
  ä¸»é¢˜
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaEE" class="dropdown-title"><span class="title">JavaEE</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaEE" class="mobile-dropdown-title"><span class="title">JavaEE</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/javaee/spring/core/" class="nav-link router-link-active">
  Spring
</a></li><li class="dropdown-subitem"><a href="/javaee/framework/mybatis/" class="nav-link">
  Mybatis
</a></li><li class="dropdown-subitem"><a href="/javaee/springboot/" class="nav-link">
  Spring Boot
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ–‡æ¡£" class="dropdown-title"><span class="title">æ–‡æ¡£</span> <span class="arrow down"></span></button> <button type="button" aria-label="æ–‡æ¡£" class="mobile-dropdown-title"><span class="title">æ–‡æ¡£</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          æ•™ç¨‹
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/views/guide/introduction.html" class="nav-link">
  vue3
</a></li><li class="dropdown-subitem"><a href="/github/git/Git.html" class="nav-link">
  Gitæ“ä½œå‘½ä»¤è¡¨
</a></li><li class="dropdown-subitem"><a href="/echarts/e/01.html" class="nav-link">
  Apache ECharts
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…¶å®ƒ" class="dropdown-title"><span class="title">å…¶å®ƒ</span> <span class="arrow down"></span></button> <button type="button" aria-label="å…¶å®ƒ" class="mobile-dropdown-title"><span class="title">å…¶å®ƒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          ProjectsğŸˆ
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/other/project.html" class="nav-link">
  My Project
</a></li></ul></li><li class="dropdown-item"><h4>
          Common sitesğŸˆ
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://docs.oracle.com/javase/8/docs/api/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java SE API Documentation
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.programcreek.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Program Creek
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://spring.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://stackoverflow.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Stackoverflow
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://leetcode-cn.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  LeetCode
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cn.vuejs.org/v2/guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue.js
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.bootcdn.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  BootCDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.linuxcool.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Linuxå‘½ä»¤å¤§å…¨
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.tiobe.com/tiobe-index/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ç¼–ç¨‹è¯­è¨€æ’è¡Œæ¦œ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><a href="/timeLine/" class="nav-link">
  æ—¶é—´çº¿
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Spring Bean ç”Ÿå‘½å‘¨æœŸ</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/javaee/spring/core/Spring%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html#_1-spring-bean-ç®€ä»‹" class="sidebar-link">1. Spring Bean ç®€ä»‹</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javaee/spring/core/Spring%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html#_1-1-beandefinition" class="sidebar-link">1.1. BeanDefinition</a></li><li class="sidebar-sub-header"><a href="/javaee/spring/core/Spring%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html#_1-2-å‘½å-spring-bean" class="sidebar-link">1.2. å‘½å Spring Bean</a></li></ul></li><li><a href="/javaee/spring/core/Spring%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html#_2-bean-ç”Ÿå‘½å‘¨æœŸæµç¨‹" class="sidebar-link">2. Bean ç”Ÿå‘½å‘¨æœŸæµç¨‹</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/javaee/spring/core/Spring%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html#_3-spring-bean-æ³¨å†Œ" class="sidebar-link">3. Spring Bean æ³¨å†Œ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javaee/spring/core/Spring%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html#_3-1-xml-é…ç½®å…ƒä¿¡æ¯" class="sidebar-link">3.1. XML é…ç½®å…ƒä¿¡æ¯</a></li><li class="sidebar-sub-header"><a href="/javaee/spring/core/Spring%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html#_3-2-æ³¨è§£é…ç½®å…ƒä¿¡æ¯" class="sidebar-link">3.2. æ³¨è§£é…ç½®å…ƒä¿¡æ¯</a></li><li class="sidebar-sub-header"><a href="/javaee/spring/core/Spring%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html#_3-3-java-api-é…ç½®å…ƒä¿¡æ¯" class="sidebar-link">3.3. Java API é…ç½®å…ƒä¿¡æ¯</a></li></ul></li><li><a href="/javaee/spring/core/Spring%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html#_4-spring-bean-å®ä¾‹åŒ–" class="sidebar-link">4. Spring Bean å®ä¾‹åŒ–</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/javaee/spring/core/Spring%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html#_5-spring-bean-åˆå§‹åŒ–å’Œé”€æ¯" class="sidebar-link">5. Spring Bean åˆå§‹åŒ–å’Œé”€æ¯</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javaee/spring/core/Spring%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html#_5-1-bean-çš„-initmethod-å’Œ-destroymethod" class="sidebar-link">5.1. @Bean çš„ initMethod å’Œ destroyMethod</a></li><li class="sidebar-sub-header"><a href="/javaee/spring/core/Spring%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html#_5-2-initializingbean-å’Œ-disposablebean" class="sidebar-link">5.2. InitializingBean å’Œ DisposableBean</a></li><li class="sidebar-sub-header"><a href="/javaee/spring/core/Spring%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html#_5-3-postconstruct-å’Œ-predestroy" class="sidebar-link">5.3. @PostConstruct å’Œ @PreDestroy</a></li><li class="sidebar-sub-header"><a href="/javaee/spring/core/Spring%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html#_5-4-beanpostprocessor" class="sidebar-link">5.4. BeanPostProcessor</a></li></ul></li><li><a href="/javaee/spring/core/Spring%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html#_6-spring-bean-åƒåœ¾å›æ”¶" class="sidebar-link">6. Spring Bean åƒåœ¾å›æ”¶</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/javaee/spring/core/Spring%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html#_7-å‚è€ƒèµ„æ–™" class="sidebar-link">7. å‚è€ƒèµ„æ–™</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="spring-bean-ç”Ÿå‘½å‘¨æœŸ"><a href="#spring-bean-ç”Ÿå‘½å‘¨æœŸ" class="header-anchor">#</a> Spring Bean ç”Ÿå‘½å‘¨æœŸ</h1> <ul><li><a href="#1-spring-bean-%E7%AE%80%E4%BB%8B">1. Spring Bean ç®€ä»‹</a> <ul><li><a href="#11-beandefinition">1.1. BeanDefinition</a></li> <li><a href="#12-%E5%91%BD%E5%90%8D-spring-bean">1.2. å‘½å Spring Bean</a></li></ul></li> <li><a href="#2-bean-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%B5%81%E7%A8%8B">2. Bean ç”Ÿå‘½å‘¨æœŸæµç¨‹</a></li> <li><a href="#3-spring-bean-%E6%B3%A8%E5%86%8C">3. Spring Bean æ³¨å†Œ</a> <ul><li><a href="#31-xml-%E9%85%8D%E7%BD%AE%E5%85%83%E4%BF%A1%E6%81%AF">3.1. XML é…ç½®å…ƒä¿¡æ¯</a></li> <li><a href="#32-%E6%B3%A8%E8%A7%A3%E9%85%8D%E7%BD%AE%E5%85%83%E4%BF%A1%E6%81%AF">3.2. æ³¨è§£é…ç½®å…ƒä¿¡æ¯</a></li> <li><a href="#33-java-api-%E9%85%8D%E7%BD%AE%E5%85%83%E4%BF%A1%E6%81%AF">3.3. Java API é…ç½®å…ƒä¿¡æ¯</a></li></ul></li> <li><a href="#4-spring-bean-%E5%AE%9E%E4%BE%8B%E5%8C%96">4. Spring Bean å®ä¾‹åŒ–</a></li> <li><a href="#5-spring-bean-%E5%88%9D%E5%A7%8B%E5%8C%96%E5%92%8C%E9%94%80%E6%AF%81">5. Spring Bean åˆå§‹åŒ–å’Œé”€æ¯</a> <ul><li><a href="#51-bean-%E7%9A%84-initmethod-%E5%92%8C-destroymethod">5.1. <code>@Bean</code> çš„ initMethod å’Œ destroyMethod</a></li> <li><a href="#52-initializingbean-%E5%92%8C-disposablebean">5.2. <code>InitializingBean</code> å’Œ <code>DisposableBean</code></a></li> <li><a href="#53-postconstruct-%E5%92%8C-predestroy">5.3. <code>@PostConstruct</code> å’Œ <code>@PreDestroy</code></a></li> <li><a href="#54-beanpostprocessor">5.4. <code>BeanPostProcessor</code></a></li></ul></li> <li><a href="#6-spring-bean-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6">6. Spring Bean åƒåœ¾å›æ”¶</a></li> <li><a href="#7-%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">7. å‚è€ƒèµ„æ–™</a></li></ul> <h2 id="_1-spring-bean-ç®€ä»‹"><a href="#_1-spring-bean-ç®€ä»‹" class="header-anchor">#</a> 1. Spring Bean ç®€ä»‹</h2> <p>å¦‚ä½•æ³¨å†Œä¸€ä¸ª Spring Beanï¼Ÿ</p> <p>é€šè¿‡ BeanDefinition å’Œå¤–éƒ¨å•ä½“å¯¹è±¡æ¥æ³¨å†Œ</p> <h3 id="_1-1-beandefinition"><a href="#_1-1-beandefinition" class="header-anchor">#</a> 1.1. BeanDefinition</h3> <h4 id="ä»€ä¹ˆæ˜¯-beandefinition"><a href="#ä»€ä¹ˆæ˜¯-beandefinition" class="header-anchor">#</a> ä»€ä¹ˆæ˜¯ BeanDefinition</h4> <p><code>BeanDefinition</code> æ˜¯ Spring Framework ä¸­å®šä¹‰ Bean çš„é…ç½®å…ƒä¿¡æ¯æ¥å£ï¼ŒåŒ…å«ï¼š</p> <ul><li>Bean ç±»å</li> <li>Bean è¡Œä¸ºé…ç½®å…ƒç´ ï¼Œå¦‚ï¼šä½œç”¨åŸŸã€è‡ªåŠ¨ç»‘å®šçš„æ¨¡å¼ã€ç”Ÿå‘½å‘¨æœŸå›è°ƒç­‰</li> <li>å…¶ä»– Bean å¼•ç”¨</li> <li>é…ç½®è®¾ç½®ï¼Œå¦‚ Bean å±æ€§ï¼ˆPropertiesï¼‰</li></ul> <h4 id="beandefinition-å…ƒä¿¡æ¯"><a href="#beandefinition-å…ƒä¿¡æ¯" class="header-anchor">#</a> BeanDefinition å…ƒä¿¡æ¯</h4> <p><code>BeanDefinition</code> å…ƒä¿¡æ¯å¦‚ä¸‹ï¼š</p> <table><thead><tr><th>å±æ€§ï¼ˆPropertyï¼‰</th> <th>è¯´æ˜</th></tr></thead> <tbody><tr><td>Class Bean</td> <td>å…¨ç±»åï¼Œå¿…é¡»æ˜¯å…·ä½“ç±»ï¼Œä¸èƒ½ç”¨æŠ½è±¡ç±»æˆ–æ¥å£</td></tr> <tr><td>Name Bean</td> <td>çš„åç§°æˆ–è€… ID</td></tr> <tr><td>Scope Bean</td> <td>çš„ä½œç”¨åŸŸï¼ˆå¦‚ï¼šsingletonã€prototype ç­‰ï¼‰</td></tr> <tr><td>Constructor arguments Bean</td> <td>æ„é€ å™¨å‚æ•°ï¼ˆç”¨äºä¾èµ–æ³¨å…¥ï¼‰</td></tr> <tr><td>Properties Bean</td> <td>å±æ€§è®¾ç½®ï¼ˆç”¨äºä¾èµ–æ³¨å…¥ï¼‰</td></tr> <tr><td>Autowiring mode Bean</td> <td>è‡ªåŠ¨ç»‘å®šæ¨¡å¼ï¼ˆå¦‚ï¼šé€šè¿‡åç§° byNameï¼‰</td></tr> <tr><td>Lazy initialization mode Bean</td> <td>å»¶è¿Ÿåˆå§‹åŒ–æ¨¡å¼ï¼ˆå»¶è¿Ÿå’Œéå»¶è¿Ÿï¼‰</td></tr> <tr><td>Initialization method Bean</td> <td>åˆå§‹åŒ–å›è°ƒæ–¹æ³•åç§°</td></tr> <tr><td>Destruction method Bean</td> <td>é”€æ¯å›è°ƒæ–¹æ³•åç§°</td></tr></tbody></table> <h4 id="beandefinition-æ„å»º"><a href="#beandefinition-æ„å»º" class="header-anchor">#</a> BeanDefinition æ„å»º</h4> <p>BeanDefinition æ„å»ºæ–¹å¼ï¼š</p> <ul><li><p>é€šè¿‡ <code>BeanDefinitionBuilder</code></p></li> <li><p>é€šè¿‡ <code>AbstractBeanDefinition</code> ä»¥åŠæ´¾ç”Ÿç±»</p></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 1.é€šè¿‡ BeanDefinitionBuilder æ„å»º</span>
<span class="token class-name">BeanDefinitionBuilder</span> beanDefinitionBuilder <span class="token operator">=</span> <span class="token class-name">BeanDefinitionBuilder</span><span class="token punctuation">.</span><span class="token function">genericBeanDefinition</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// é€šè¿‡å±æ€§è®¾ç½®</span>
beanDefinitionBuilder
  <span class="token punctuation">.</span><span class="token function">addPropertyValue</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addPropertyValue</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;å°é©¬å“¥&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// è·å– BeanDefinition å®ä¾‹</span>
<span class="token class-name">BeanDefinition</span> beanDefinition <span class="token operator">=</span> beanDefinitionBuilder<span class="token punctuation">.</span><span class="token function">getBeanDefinition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// BeanDefinition å¹¶é Bean ç»ˆæ€ï¼Œå¯ä»¥è‡ªå®šä¹‰ä¿®æ”¹</span>

<span class="token comment">// 2. é€šè¿‡ AbstractBeanDefinition ä»¥åŠæ´¾ç”Ÿç±»</span>
<span class="token class-name">GenericBeanDefinition</span> genericBeanDefinition <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GenericBeanDefinition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// è®¾ç½® Bean ç±»å‹</span>
genericBeanDefinition<span class="token punctuation">.</span><span class="token function">setBeanClass</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// é€šè¿‡ MutablePropertyValues æ‰¹é‡æ“ä½œå±æ€§</span>
<span class="token class-name">MutablePropertyValues</span> propertyValues <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MutablePropertyValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        propertyValues.addPropertyValue(&quot;id&quot;, 1);</span>
<span class="token comment">//        propertyValues.addPropertyValue(&quot;name&quot;, &quot;å°é©¬å“¥&quot;);</span>
propertyValues
  <span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;å°é©¬å“¥&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// é€šè¿‡ set MutablePropertyValues æ‰¹é‡æ“ä½œå±æ€§</span>
genericBeanDefinition<span class="token punctuation">.</span><span class="token function">setPropertyValues</span><span class="token punctuation">(</span>propertyValues<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_1-2-å‘½å-spring-bean"><a href="#_1-2-å‘½å-spring-bean" class="header-anchor">#</a> 1.2. å‘½å Spring Bean</h3> <h4 id="spring-bean-å‘½åè§„åˆ™"><a href="#spring-bean-å‘½åè§„åˆ™" class="header-anchor">#</a> Spring Bean å‘½åè§„åˆ™</h4> <p>æ¯ä¸ª Bean æ‹¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªæ ‡è¯†ç¬¦ï¼ˆidentifiersï¼‰ï¼Œè¿™äº›æ ‡è¯†ç¬¦åœ¨ Bean æ‰€åœ¨çš„å®¹å™¨å¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚é€šå¸¸ï¼Œä¸€ä¸ª Bean ä»…æœ‰ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œå¦‚æœéœ€è¦é¢å¤–çš„ï¼Œå¯è€ƒè™‘ä½¿ç”¨åˆ«åï¼ˆAliasï¼‰æ¥æ‰©å……ã€‚</p> <p>åœ¨åŸºäº XML çš„é…ç½®å…ƒä¿¡æ¯ä¸­ï¼Œå¼€å‘äººå‘˜å¯ç”¨ id æˆ–è€… name å±æ€§æ¥è§„å®š Bean çš„æ ‡è¯†ç¬¦ã€‚é€šå¸¸ Bean çš„æ ‡è¯†ç¬¦ç”±å­—æ¯ç»„æˆï¼Œå…è®¸å‡ºç°ç‰¹æ®Šå­—ç¬¦ã€‚å¦‚æœè¦æƒ³å¼•å…¥ Bean çš„åˆ«åçš„è¯ï¼Œå¯åœ¨ name å±æ€§ä½¿ç”¨åŠè§’é€—å·ï¼ˆâ€œ,â€ï¼‰æˆ–åˆ†å·ï¼ˆâ€œ;â€) æ¥é—´éš”ã€‚</p> <p>Bean çš„ id æˆ– name å±æ€§å¹¶éå¿…é¡»åˆ¶å®šï¼Œå¦‚æœç•™ç©ºçš„è¯ï¼Œå®¹å™¨ä¼šä¸º Bean è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„åç§°ã€‚Bean çš„å‘½åå°½ç®¡æ²¡æœ‰é™åˆ¶ï¼Œä¸è¿‡å®˜æ–¹å»ºè®®é‡‡ç”¨é©¼å³°çš„æ–¹å¼ï¼Œæ›´ç¬¦åˆ Java çš„å‘½åçº¦å®šã€‚</p> <h4 id="spring-bean-å‘½åç”Ÿæˆå™¨"><a href="#spring-bean-å‘½åç”Ÿæˆå™¨" class="header-anchor">#</a> Spring Bean å‘½åç”Ÿæˆå™¨</h4> <p>Spring æä¾›äº†ä¸¤ç§ Spring Bean å‘½åç”Ÿæˆå™¨ï¼š</p> <ul><li>DefaultBeanNameGeneratorï¼šé»˜è®¤é€šç”¨ BeanNameGenerator å®ç°ã€‚</li> <li>AnnotationBeanNameGeneratorï¼šåŸºäºæ³¨è§£æ‰«æçš„ BeanNameGenerator å®ç°ã€‚</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">BeanNameGenerator</span> <span class="token punctuation">{</span>
   <span class="token class-name">String</span> <span class="token function">generateBeanName</span><span class="token punctuation">(</span><span class="token class-name">BeanDefinition</span> definition<span class="token punctuation">,</span> <span class="token class-name">BeanDefinitionRegistry</span> registry<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="spring-bean-åˆ«å"><a href="#spring-bean-åˆ«å" class="header-anchor">#</a> Spring Bean åˆ«å</h4> <p>å¯èƒ½å­˜åœ¨è¿™æ ·çš„åœºæ™¯ï¼Œä¸åŒç³»ç»Ÿä¸­å¯¹äºåŒä¸€ bean çš„å‘½åæ–¹å¼ä¸ä¸€æ ·ã€‚
ä¸ºäº†é€‚é…ï¼ŒSpring æ”¯æŒ <code>&lt;alias&gt;</code> ä¸º bean æ·»åŠ åˆ«åçš„åŠŸèƒ½ã€‚</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>io.github.dunwu.spring.core.domain.User<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name"><span class="token namespace">p:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>å¼ ä¸‰<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">p:</span>age</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>18<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>alias</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sysUser<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alias</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>superUser<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>Bean åˆ«åï¼ˆAliasï¼‰çš„ä½œç”¨ï¼š</p> <ul><li>å¤ç”¨ç°æœ‰çš„ BeanDefinition</li> <li>æ›´å…·æœ‰åœºæ™¯åŒ–çš„å‘½åæ–¹æ³•ï¼Œæ¯”å¦‚ï¼š
<ul><li><code>&lt;alias name=&quot;myApp-dataSource&quot; alias=&quot;subsystemA-dataSource&quot;/&gt;</code></li> <li><code>&lt;alias name=&quot;myApp-dataSource&quot; alias=&quot;subsystemB-dataSource&quot;/&gt;</code></li></ul></li></ul> <h2 id="_2-bean-ç”Ÿå‘½å‘¨æœŸæµç¨‹"><a href="#_2-bean-ç”Ÿå‘½å‘¨æœŸæµç¨‹" class="header-anchor">#</a> 2. Bean ç”Ÿå‘½å‘¨æœŸæµç¨‹</h2> <p><img src="https://raw.githubusercontent.com/dunwu/images/dev/snap/20211201102734.png" alt=""></p> <ol><li><p>Spring å¯¹ Bean è¿›è¡Œå®ä¾‹åŒ–ï¼ˆç›¸å½“äº new XXX()ï¼‰</p></li> <li><p>Spring å°†å€¼å’Œå¼•ç”¨æ³¨å…¥è¿› Bean å¯¹åº”çš„å±æ€§ä¸­</p></li> <li><p>å¦‚æœ Bean å®ç°äº† <code>BeanNameAware</code> æ¥å£ï¼ŒSpring å°† Bean çš„ ID ä¼ é€’ç»™ <code>setBeanName</code> æ–¹æ³•</p> <ul><li>ä½œç”¨æ˜¯é€šè¿‡ Bean çš„å¼•ç”¨æ¥è·å¾— Bean IDï¼Œä¸€èˆ¬ä¸šåŠ¡ä¸­æ˜¯å¾ˆå°‘æœ‰ç”¨åˆ° Bean çš„ ID çš„</li></ul></li> <li><p>å¦‚æœ Bean å®ç°äº† <code>BeanFactoryAware</code> æ¥å£ï¼ŒSpring å°†è°ƒç”¨ <code>setBeanDactory</code> æ–¹æ³•ï¼Œå¹¶æŠŠ <code>BeanFactory</code> å®¹å™¨å®ä¾‹ä½œä¸ºå‚æ•°ä¼ å…¥ã€‚</p> <ul><li>ä½œç”¨æ˜¯è·å– Spring å®¹å™¨ï¼Œå¦‚ Bean é€šè¿‡ Spring å®¹å™¨å‘å¸ƒäº‹ä»¶ç­‰</li></ul></li> <li><p>å¦‚æœ Bean å®ç°äº† <code>ApplicationContextAware</code> æ¥å£ï¼ŒSpring å®¹å™¨å°†è°ƒç”¨ <code>setApplicationContext</code> æ–¹æ³•ï¼ŒæŠŠåº”ç”¨ä¸Šä¸‹æ–‡ä½œä¸ºå‚æ•°ä¼ å…¥</p> <ul><li>ä½œç”¨ä¸ <code>BeanFactory</code> ç±»ä¼¼éƒ½æ˜¯ä¸ºäº†è·å– Spring å®¹å™¨ï¼Œä¸åŒçš„æ˜¯ Spring å®¹å™¨åœ¨è°ƒç”¨ <code>setApplicationContext</code> æ–¹æ³•æ—¶ä¼šæŠŠå®ƒè‡ªå·±ä½œä¸º <code>setApplicationContext</code> çš„å‚æ•°ä¼ å…¥ï¼Œè€Œ Spring å®¹å™¨åœ¨è°ƒç”¨ <code>setBeanFactory</code> å‰éœ€è¦ä½¿ç”¨è€…è‡ªå·±æŒ‡å®šï¼ˆæ³¨å…¥ï¼‰<code>setBeanFactory</code> é‡Œçš„å‚æ•° <code>BeanFactory</code></li></ul></li> <li><p>å¦‚æœ Bean å®ç°äº† <code>BeanPostProcess</code> æ¥å£ï¼ŒSpring å°†è°ƒç”¨ <code>postProcessBeforeInitialization</code> æ–¹æ³•</p> <ul><li>ä½œç”¨æ˜¯åœ¨ Bean å®ä¾‹åˆ›å»ºæˆåŠŸåå¯¹å…¶è¿›è¡Œå¢å¼ºå¤„ç†ï¼Œå¦‚å¯¹ Bean è¿›è¡Œä¿®æ”¹ï¼Œå¢åŠ æŸä¸ªåŠŸèƒ½</li></ul></li> <li><p>å¦‚æœ Bean å®ç°äº† <code>InitializingBean</code> æ¥å£ï¼ŒSpring å°†è°ƒç”¨ <code>afterPropertiesSet</code> æ–¹æ³•ï¼Œä½œç”¨ä¸åœ¨é…ç½®æ–‡ä»¶ä¸­å¯¹ Bean ä½¿ç”¨ <code>init-method</code> å£°æ˜åˆå§‹åŒ–çš„ä½œç”¨ä¸€æ ·ï¼Œéƒ½æ˜¯åœ¨ Bean çš„å…¨éƒ¨å±æ€§è®¾ç½®æˆåŠŸåæ‰§è¡Œçš„åˆå§‹åŒ–æ–¹æ³•ã€‚</p></li> <li><p>å¦‚æœ Bean å®ç°äº† <code>BeanPostProcess</code> æ¥å£ï¼ŒSpring å°†è°ƒç”¨ <code>postProcessAfterInitialization</code> æ–¹æ³•</p> <ul><li><code>postProcessBeforeInitialization</code> æ˜¯åœ¨ Bean åˆå§‹åŒ–å‰æ‰§è¡Œçš„ï¼Œè€Œ <code>postProcessAfterInitialization</code> æ˜¯åœ¨ Bean åˆå§‹åŒ–åæ‰§è¡Œçš„</li></ul></li> <li><p>ç»è¿‡ä»¥ä¸Šçš„å·¥ä½œåï¼ŒBean å°†ä¸€ç›´é©»ç•™åœ¨åº”ç”¨ä¸Šä¸‹æ–‡ä¸­ç»™åº”ç”¨ä½¿ç”¨ï¼Œç›´åˆ°åº”ç”¨ä¸Šä¸‹æ–‡è¢«é”€æ¯</p></li> <li><p>å¦‚æœ Bean å®ç°äº† <code>DispostbleBean</code> æ¥å£ï¼ŒSpring å°†è°ƒç”¨å®ƒçš„ <code>destory</code> æ–¹æ³•ï¼Œä½œç”¨ä¸åœ¨é…ç½®æ–‡ä»¶ä¸­å¯¹ Bean ä½¿ç”¨ <code>destory-method</code> å±æ€§çš„ä½œç”¨ä¸€æ ·ï¼Œéƒ½æ˜¯åœ¨ Bean å®ä¾‹é”€æ¯å‰æ‰§è¡Œçš„æ–¹æ³•ã€‚</p></li></ol> <h2 id="_3-spring-bean-æ³¨å†Œ"><a href="#_3-spring-bean-æ³¨å†Œ" class="header-anchor">#</a> 3. Spring Bean æ³¨å†Œ</h2> <p>æ³¨å†Œ Spring Bean å®é™…ä¸Šæ˜¯å°† <code>BeanDefinition</code> æ³¨å†Œåˆ° IoC å®¹å™¨ä¸­ã€‚</p> <h3 id="_3-1-xml-é…ç½®å…ƒä¿¡æ¯"><a href="#_3-1-xml-é…ç½®å…ƒä¿¡æ¯" class="header-anchor">#</a> 3.1. XML é…ç½®å…ƒä¿¡æ¯</h3> <p>Spring çš„ä¼ ç»Ÿé…ç½®æ–¹å¼ã€‚åœ¨ <code>&lt;bean&gt;</code> æ ‡ç­¾ä¸­é…ç½®å…ƒæ•°æ®å†…å®¹ã€‚</p> <p>ç¼ºç‚¹æ˜¯å½“ JavaBean è¿‡å¤šæ—¶ï¼Œäº§ç”Ÿçš„é…ç½®æ–‡ä»¶è¶³ä»¥è®©ä½ çœ¼èŠ±ç¼­ä¹±ã€‚</p> <h3 id="_3-2-æ³¨è§£é…ç½®å…ƒä¿¡æ¯"><a href="#_3-2-æ³¨è§£é…ç½®å…ƒä¿¡æ¯" class="header-anchor">#</a> 3.2. æ³¨è§£é…ç½®å…ƒä¿¡æ¯</h3> <p>ä½¿ç”¨ <code>@Bean</code>ã€<code>@Component</code>ã€<code>@Import</code> æ³¨è§£æ³¨å†Œ Spring Beanã€‚</p> <h3 id="_3-3-java-api-é…ç½®å…ƒä¿¡æ¯"><a href="#_3-3-java-api-é…ç½®å…ƒä¿¡æ¯" class="header-anchor">#</a> 3.3. Java API é…ç½®å…ƒä¿¡æ¯</h3> <ul><li>å‘½åæ–¹å¼ï¼š<code>BeanDefinitionRegistry#registerBeanDefinition(String,BeanDefinition)</code></li> <li>éå‘½åæ–¹å¼ï¼š<code>BeanDefinitionReaderUtils#registerWithGeneratedName(AbstractBeanDefinition,Be</code> <code>anDefinitionRegistry)</code></li> <li>é…ç½®ç±»æ–¹å¼ï¼š<code>AnnotatedBeanDefinitionReader#register(Class...)</code></li></ul> <p>[ç¤ºä¾‹]</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token class-name">AnnotationComponentScan<span class="token punctuation">.</span>MyConfiguration</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AnnotationComponentScan</span> <span class="token punctuation">{</span>

   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// åˆ›å»º BeanFactory å®¹å™¨</span>
      <span class="token class-name">AnnotationConfigApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// 1.æ³¨å†Œé…ç½®ç±»</span>
      ctx<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token class-name">AnnotationComponentScan</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// 2.é€šè¿‡ Java API æ³¨å†Œ</span>
      <span class="token function">registerBeanDefinition</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> <span class="token string">&quot;zhaoliu&quot;</span><span class="token punctuation">,</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// å¯åŠ¨åº”ç”¨ä¸Šä¸‹æ–‡</span>
      ctx<span class="token punctuation">.</span><span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token class-name">User</span> wangwu <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">)</span> ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;wangwu&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;wangwu info: &quot;</span> <span class="token operator">+</span> wangwu<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;All beans of User: &quot;</span> <span class="token operator">+</span> ctx<span class="token punctuation">.</span><span class="token function">getBeansOfType</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">//æ˜¾ç¤ºå…³é—­ ApplicationContext</span>
      ctx<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">registerBeanDefinition</span><span class="token punctuation">(</span><span class="token class-name">BeanDefinitionRegistry</span> registry<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> beanClass<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">BeanDefinitionBuilder</span> builder <span class="token operator">=</span> <span class="token class-name">BeanDefinitionBuilder</span><span class="token punctuation">.</span><span class="token function">genericBeanDefinition</span><span class="token punctuation">(</span>beanClass<span class="token punctuation">)</span><span class="token punctuation">;</span>
      builder<span class="token punctuation">.</span><span class="token function">addPropertyValue</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;èµµå…­&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      builder<span class="token punctuation">.</span><span class="token function">addPropertyValue</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// æ³¨å†Œ BeanDefinition</span>
      registry<span class="token punctuation">.</span><span class="token function">registerBeanDefinition</span><span class="token punctuation">(</span>beanName<span class="token punctuation">,</span> builder<span class="token punctuation">.</span><span class="token function">getBeanDefinition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token annotation punctuation">@Configuration</span>
   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">MyConfiguration</span> <span class="token punctuation">{</span>

      <span class="token comment">// æ³¨è§£æ–¹å¼é…ç½®å…ƒä¿¡æ¯</span>
      <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;wangwu&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;ç‹äº”&quot;</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

   <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><h2 id="_4-spring-bean-å®ä¾‹åŒ–"><a href="#_4-spring-bean-å®ä¾‹åŒ–" class="header-anchor">#</a> 4. Spring Bean å®ä¾‹åŒ–</h2> <p>Spring Bean å®ä¾‹åŒ–æ–¹å¼ï¼š</p> <ul><li>å¸¸è§„æ–¹å¼
<ul><li>é€šè¿‡æ„é€ å™¨ï¼ˆé…ç½®å…ƒä¿¡æ¯ï¼šXMLã€Java æ³¨è§£å’Œ Java APIï¼‰</li> <li>é€šè¿‡é™æ€å·¥å‚æ–¹æ³•ï¼ˆé…ç½®å…ƒä¿¡æ¯ï¼šXMLã€Java æ³¨è§£å’Œ Java APIï¼‰</li> <li>é€šè¿‡ Bean å·¥å‚æ–¹æ³•ï¼ˆé…ç½®å…ƒä¿¡æ¯ï¼šXMLã€Java æ³¨è§£å’Œ Java APIï¼‰</li> <li>é€šè¿‡ <code>FactoryBean</code>ï¼ˆé…ç½®å…ƒä¿¡æ¯ï¼šXMLã€Java æ³¨è§£å’Œ Java APIï¼‰</li></ul></li> <li>ç‰¹æ®Šæ–¹å¼
<ul><li>é€šè¿‡ <code>ServiceLoaderFactoryBean</code>ï¼ˆé…ç½®å…ƒä¿¡æ¯ï¼šXMLã€Java æ³¨è§£å’Œ Java API ï¼‰</li> <li>é€šè¿‡ <code>AutowireCapableBeanFactory#createBean(java.lang.Class, int, boolean)</code></li> <li>é€šè¿‡ <code>BeanDefinitionRegistry#registerBeanDefinition(String,BeanDefinition)</code></li></ul></li></ul> <h2 id="_5-spring-bean-åˆå§‹åŒ–å’Œé”€æ¯"><a href="#_5-spring-bean-åˆå§‹åŒ–å’Œé”€æ¯" class="header-anchor">#</a> 5. Spring Bean åˆå§‹åŒ–å’Œé”€æ¯</h2> <p>Spring Bean åˆå§‹åŒ–å’Œé”€æ¯çš„æ–¹å¼æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p> <ol><li>ä½¿ç”¨ <code>@PostConstruct</code> å’Œ <code>@PreDestroy</code> æ³¨è§£åˆ†åˆ«æŒ‡å®šç›¸åº”çš„åˆå§‹åŒ–æ–¹æ³•å’Œé”€æ¯æ–¹æ³•ã€‚</li> <li>å®ç° <code>InitializingBean</code> æ¥å£çš„ <code>afterPropertiesSet()</code> æ–¹æ³•æ¥ç¼–å†™åˆå§‹åŒ–æ–¹æ³•ï¼›å®ç° <code>DisposableBean</code> æ¥å£çš„ <code>destroy()</code> æ–¹æ³•æ¥ç¼–å†™é”€æ¯æ–¹æ³•ã€‚</li> <li>è‡ªå®šä¹‰åˆå§‹åŒ–æ–¹æ³•
<ul><li>XML é…ç½®ï¼š<code>&lt;bean init-method=&quot;init&quot; destroy=&quot;destroy&quot; ... /&gt;</code></li> <li>Java æ³¨è§£ï¼š<code>@Bean(initMethod = &quot;init&quot;, destroyMethod = &quot;destroy&quot;)</code></li> <li>Java APIï¼š<code>AbstractBeanDefinition#setInitMethodName(String)</code> å’Œ <code>AbstractBeanDefinition#setDestroyMethodName(String)</code> åˆ†åˆ«å®šä¹‰åˆå§‹åŒ–å’Œé”€æ¯æ–¹æ³•</li></ul></li></ol> <p>æ³¨æ„ï¼šå¦‚æœåŒæ—¶å­˜åœ¨ï¼Œæ‰§è¡Œé¡ºåºä¼šæŒ‰ç…§åºåˆ—æ‰§è¡Œã€‚</p> <h3 id="_5-1-bean-çš„-initmethod-å’Œ-destroymethod"><a href="#_5-1-bean-çš„-initmethod-å’Œ-destroymethod" class="header-anchor">#</a> 5.1. <code>@Bean</code> çš„ initMethod å’Œ destroyMethod</h3> <p>ï¼ˆ1ï¼‰å®šä¹‰ Bean å®ä¾‹</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Pojo</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token class-name">Pojo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;[Pojo æ„é€ æ–¹æ³•]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;[Pojo åˆå§‹åŒ–æ–¹æ³•]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;[Pojo é”€æ¯æ–¹æ³•]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p>ï¼ˆ2ï¼‰ä½¿ç”¨ <code>@Bean</code> åœ¨é…ç½®ç±»ä¸­æ³¨å†Œ Bean</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AnnotationBeanDemo</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span>initMethod <span class="token operator">=</span> <span class="token string">&quot;init&quot;</span><span class="token punctuation">,</span> destroyMethod <span class="token operator">=</span> <span class="token string">&quot;destroy&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Pojo</span> <span class="token function">pojo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Pojo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>è¯´æ˜ï¼š<code>@Bean</code> æ³¨è§£çš„ <code>initMethod</code> å’Œ <code>destroyMethod</code> å±æ€§åˆ†åˆ«ç”¨äºæŒ‡å®š Bean å¯¹åº”çš„åˆå§‹åŒ–æ–¹æ³•å’Œé”€æ¯æ–¹æ³•ã€‚</p></blockquote> <p>ï¼ˆ3ï¼‰æµ‹è¯•ï¼š</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">AnnotationConfigApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">AnnotationBeanDemo</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;AnnotationBeanDemo ç¤ºä¾‹ç»“æŸ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¾“å‡º</p> <div class="language- extra-class"><pre class="language-text"><code>[Pojo æ„é€ æ–¹æ³•]
[Pojo åˆå§‹åŒ–æ–¹æ³•]
AnnotationBeanDemo ç¤ºä¾‹ç»“æŸ
[Pojo é”€æ¯æ–¹æ³•]
</code></pre></div><h3 id="_5-2-initializingbean-å’Œ-disposablebean"><a href="#_5-2-initializingbean-å’Œ-disposablebean" class="header-anchor">#</a> 5.2. <code>InitializingBean</code> å’Œ <code>DisposableBean</code></h3> <ul><li><code>InitializingBean</code> æ¥å£åŒ…å«ä¸€ä¸ª <code>afterPropertiesSet</code> æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡å®ç°è¯¥æ¥å£ï¼Œç„¶ååœ¨è¿™ä¸ªæ–¹æ³•ä¸­ç¼–å†™åˆå§‹åŒ–é€»è¾‘ã€‚</li> <li><code>DisposableBean</code>æ¥å£åŒ…å«ä¸€ä¸ª <code>destory</code> æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡å®ç°è¯¥æ¥å£ï¼Œç„¶ååœ¨è¿™ä¸ªæ–¹æ³•ä¸­ç¼–å†™é”€æ¯é€»è¾‘ã€‚</li></ul> <p>ï¼ˆ1ï¼‰å®šä¹‰ Bean å®ä¾‹</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Pojo2</span> <span class="token keyword">implements</span> <span class="token class-name">InitializingBean</span><span class="token punctuation">,</span> <span class="token class-name">DisposableBean</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token class-name">Pojo2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;[Pojo2 æ„é€ æ–¹æ³•]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterPropertiesSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;[Pojo2 åˆå§‹åŒ–æ–¹æ³•]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;[Pojo2 é”€æ¯æ–¹æ³•]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p>ï¼ˆ2ï¼‰ä½¿ç”¨ <code>@Bean</code> åœ¨é…ç½®ç±»ä¸­æ³¨å†Œ Bean</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AnnotationBeanDemo</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Pojo2</span> <span class="token function">pojo2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Pojo2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p>ï¼ˆ3ï¼‰æµ‹è¯•ï¼š</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">AnnotationConfigApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">AnnotationBeanDemo</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;AnnotationBeanDemo ç¤ºä¾‹ç»“æŸ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¾“å‡º</p> <div class="language- extra-class"><pre class="language-text"><code>[Pojo2 æ„é€ æ–¹æ³•]
[Pojo2 åˆå§‹åŒ–æ–¹æ³•]
AnnotationBeanDemo ç¤ºä¾‹ç»“æŸ
[Pojo2 é”€æ¯æ–¹æ³•]
</code></pre></div><h3 id="_5-3-postconstruct-å’Œ-predestroy"><a href="#_5-3-postconstruct-å’Œ-predestroy" class="header-anchor">#</a> 5.3. <code>@PostConstruct</code> å’Œ <code>@PreDestroy</code></h3> <p>å¯ä»¥ä½¿ç”¨ <code>@PostConstruct</code> å’Œ <code>@PreDestroy</code> æ³¨è§£ä¿®é¥°æ–¹æ³•æ¥æŒ‡å®šç›¸åº”çš„åˆå§‹åŒ–å’Œé”€æ¯æ–¹æ³•ã€‚</p> <h3 id="_5-4-beanpostprocessor"><a href="#_5-4-beanpostprocessor" class="header-anchor">#</a> 5.4. <code>BeanPostProcessor</code></h3> <p>Spring æä¾›äº†ä¸€ä¸ª <code>BeanPostProcessor</code> æ¥å£ï¼Œæä¾›äº†ä¸¤ä¸ªæ–¹æ³• <code>postProcessBeforeInitialization</code> å’Œ <code>postProcessAfterInitialization</code>ã€‚å…¶ä¸­<code>postProcessBeforeInitialization</code> åœ¨ç»„ä»¶çš„åˆå§‹åŒ–æ–¹æ³•è°ƒç”¨ä¹‹å‰æ‰§è¡Œï¼Œ<code>postProcessAfterInitialization</code> åœ¨ç»„ä»¶çš„åˆå§‹åŒ–æ–¹æ³•è°ƒç”¨ä¹‹åæ‰§è¡Œã€‚å®ƒä»¬éƒ½åŒ…å«ä¸¤ä¸ªå…¥å‚ï¼š</p> <ol><li>beanï¼šå½“å‰ç»„ä»¶å¯¹è±¡ï¼›</li> <li>beanNameï¼šå½“å‰ç»„ä»¶åœ¨å®¹å™¨ä¸­çš„åç§°ã€‚</li></ol> <p>ï¼ˆ1ï¼‰å®šä¹‰ Pojoï¼Œå¦‚ä¸Šé¢çš„ä¾‹å­</p> <p>ï¼ˆ2ï¼‰å®šä¹‰ <code>BeanPostProcessor</code></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyBeanPostProcessor</span> <span class="token keyword">implements</span> <span class="token class-name">BeanPostProcessor</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token class-name">MyBeanPostProcessor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;[BeanPostProcessor] construct&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">postProcessBeforeInitialization</span><span class="token punctuation">(</span><span class="token class-name">Object</span> bean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;[BeanPostProcessor] postProcessBeforeInitialization&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">postProcessAfterInitialization</span><span class="token punctuation">(</span><span class="token class-name">Object</span> bean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;[BeanPostProcessor] postProcessAfterInitialization&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p>ï¼ˆ3ï¼‰ä½¿ç”¨ <code>@Bean</code> åœ¨é…ç½®ç±»ä¸­æ³¨å†Œ Bean</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">Pojo</span> <span class="token function">pojo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Pojo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">MyBeanPostProcessor</span> <span class="token function">myBeanPostProcessor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MyBeanPostProcessor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ï¼ˆ3ï¼‰æµ‹è¯•ï¼š</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">AnnotationConfigApplicationContext</span> context <span class="token operator">=</span>
        <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">MyBeanPostProcessorDemo</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;BeanPostProcessorDemo ç¤ºä¾‹ç»“æŸ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¾“å‡º</p> <div class="language- extra-class"><pre class="language-text"><code>[BeanPostProcessor] construct
[Pojo æ„é€ æ–¹æ³•]
[BeanPostProcessor] postProcessBeforeInitialization
[Pojo åˆå§‹åŒ–æ–¹æ³•]
[BeanPostProcessor] postProcessAfterInitialization
BeanPostProcessorDemo ç¤ºä¾‹ç»“æŸ
[Pojo é”€æ¯æ–¹æ³•]
</code></pre></div><h2 id="_6-spring-bean-åƒåœ¾å›æ”¶"><a href="#_6-spring-bean-åƒåœ¾å›æ”¶" class="header-anchor">#</a> 6. Spring Bean åƒåœ¾å›æ”¶</h2> <p>Spring Bean åƒåœ¾å›æ”¶æ­¥éª¤ï¼š</p> <ol><li>å…³é—­ Spring å®¹å™¨ï¼ˆåº”ç”¨ä¸Šä¸‹æ–‡ï¼‰</li> <li>æ‰§è¡Œ GC</li> <li>Spring Bean è¦†ç›–çš„ finalize() æ–¹æ³•è¢«å›è°ƒ</li></ol> <h2 id="_7-å‚è€ƒèµ„æ–™"><a href="#_7-å‚è€ƒèµ„æ–™" class="header-anchor">#</a> 7. å‚è€ƒèµ„æ–™</h2> <ul><li><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans" target="_blank" rel="noopener noreferrer">Spring å®˜æ–¹æ–‡æ¡£ä¹‹ Core Technologies<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.56355bfb.js" defer></script><script src="/assets/js/2.63cce038.js" defer></script><script src="/assets/js/28.fb5b3d5b.js" defer></script>
  </body>
</html>
